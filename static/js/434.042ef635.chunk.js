"use strict";(self.webpackChunklesson1=self.webpackChunklesson1||[]).push([[434],{5434:function(t,e,s){s.r(e),s.d(e,{default:function(){return L}});var n=s(1413),o=s(5671),i=s(3144),r=s(136),u=s(516),a=s(8687),l=s(8128),c="MyPosts_posts__GSiZ2",d="MyPosts_form__hrebz",p=s(885),h=s(2791),f="Post_item__yucwS",x=s(184),j=function(t){var e=(0,h.useState)(t.counter),s=(0,p.Z)(e,2),n=s[0],o=s[1];return(0,h.useEffect)((function(){o(t.counter)}),[t.counter]),(0,x.jsxs)("div",{className:f,children:[(0,x.jsx)("img",{src:"https://png.pngtree.com/png-vector/20191101/ourmid/pngtree-cartoon-color-simple-male-avatar-png-image_1934459.jpg",alt:"logo"}),(0,x.jsx)("span",{children:t.message}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("button",{onClick:function(){return o(n+1)},children:["Like ",n]}),(0,x.jsx)("button",{onClick:function(){return o(n-1)},children:"Dislike"})]})]})},v=s(6139),m=s(704),g=s(6147),P=s(816),S=h.memo((function(t){var e=t.posts.map((function(t){return(0,x.jsx)(j,{message:t.text,counter:t.counter})}));return(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("h3",{children:"My post"}),(0,x.jsx)("div",{children:(0,x.jsx)("div",{children:(0,x.jsx)(Z,{className:d,onSubmit:function(e){t.addPost(e.newPost)}})})}),(0,x.jsx)("div",{children:e})]})})),b=(0,P.W)("textarea"),Z=(0,m.Z)({form:"profileAddPostForm"})((function(t){return(0,x.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,x.jsx)("div",{children:(0,x.jsx)(v.Z,{component:b,name:"newPost",placeholder:"Write your thoughts",validate:[g.C,(0,g.D)(11)]})}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Post"})})]})})),_=S,k=(0,a.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t((0,l.Wl)(e))}}}))(_),y="Profile_content__g-Lde",C=s(4553),M={userPhoto:"ProfileInfo_userPhoto__PHwGN"},N=s(1198),A=function(t){var e=(0,h.useState)(!1),s=(0,p.Z)(e,2),n=s[0],o=s[1],i=(0,h.useState)(t.status),r=(0,p.Z)(i,2),u=r[0],a=r[1];(0,h.useEffect)((function(){a(t.status)}),[t.status]);return(0,x.jsxs)("div",{children:[!n&&(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{onDoubleClick:function(){o(!0)},children:"Status:"}),(0,x.jsx)("p",{children:t.status||"-------"})]}),n&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),t.updateStatus(u)},value:u,onChange:function(t){a(t.currentTarget.value)}})})]})},w=(0,P.W)("input"),F=(0,P.W)("textarea"),D=(0,m.Z)({form:"edit-profile"})((function(t){var e=t.handleSubmit;return(0,x.jsxs)("form",{onSubmit:e,children:[(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Save"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"Full name:"}),(0,P.G)("Full name","fullName",w,[])]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"My professional skills:"}),(0,P.G)("","lookingForAJobDescription",w,[])]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"About me:"}),(0,P.G)("About Me","aboutMe",F,[])]})]})})),T=function(t){var e=t.profile,s=t.goToEditMode;return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsx)("button",{onClick:s,children:"Edit"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"Full name:"})," ",e.fullName]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"My professional skills:"})," ",e.lookingForAJobDescription]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"About me:"})," ",e.aboutMe]})]})},E=function(t){var e=t.status,s=t.updateStatus,n=t.profile,o=t.savePhoto,i=t.saveProfile,r=(0,h.useState)(!1),u=(0,p.Z)(r,2),a=u[0],l=u[1];if(!n)return(0,x.jsx)(C.Z,{});return(0,x.jsx)("div",{className:M.header_content,children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:n.photos.large||N,className:M.userPhoto,alt:"logo"}),(0,x.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),a?(0,x.jsx)(D,{initialValues:n,onSubmit:function(t){i(t),l(!1)}}):(0,x.jsx)(T,{profile:n,goToEditMode:function(){l(!0)}}),(0,x.jsx)(A,{status:e,updateStatus:s})]})})},G=function(t){return(0,x.jsxs)("div",{className:y,children:[(0,x.jsx)(E,{savePhoto:t.savePhoto,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),(0,x.jsx)(k,{})]})},W=s(2291),I=s(7689);var J=s(7781),H=function(t){(0,r.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=this.props.logged),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,x.jsx)(G,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(h.Component),L=(0,J.qC)((0,a.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,isAuth:t.auth.isAuth,logged:t.auth.id}}),{getProfile:l.Ai,getStatus:l.lR,updateStatus:l.Nf,savePhoto:l.Ju,saveProfile:l.Ii}),(function(t){return function(e){var s=(0,I.TH)(),o=(0,I.s0)(),i=(0,I.UO)();return(0,x.jsx)(t,(0,n.Z)((0,n.Z)({},e),{},{router:{location:s,navigate:o,params:i}}))}}),W.S)(H)}}]);
//# sourceMappingURL=434.042ef635.chunk.js.map